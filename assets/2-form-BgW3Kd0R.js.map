{"version":3,"file":"2-form-BgW3Kd0R.js","sources":["../../src/js/2-form.js"],"sourcesContent":["const form = document.querySelector('.feedback-form');\n\nlet formData = {\n  message: '',\n  email: '',\n};\n\nhandleDOMLoad();\n\nform.addEventListener('input', handleFormInput);\nform.addEventListener('submit', handleFormSubmit);\n\nfunction handleFormInput(e) {\n  const { name, value } = e.target;\n\n  if (!['email', 'message'].includes(name)) return;\n\n  formData[name] = value.trim();\n  saveToLS('feedback-form-state', formData);\n}\n\nfunction handleFormSubmit(e) {\n  e.preventDefault();\n\n  if (formData.email === '' || formData.message === '') {\n    alert('Fill all fields please');\n    return;\n  }\n\n  console.log({ ...formData });\n\n  localStorage.removeItem('feedback-form-state');\n  form.reset();\n  formData = {\n    message: '',\n    email: '',\n  };\n}\n\nfunction handleDOMLoad() {\n  const lsData = getFromLS('feedback-form-state');\n  if (lsData && typeof lsData === 'object') {\n    form.elements.email.value = lsData.email || '';\n    form.elements.message.value = lsData.message || '';\n    formData = { ...lsData };\n  }\n}\n\nfunction saveToLS(key, value) {\n  localStorage.setItem(key, JSON.stringify(value));\n}\n\nfunction getFromLS(key) {\n  try {\n    return JSON.parse(localStorage.getItem(key));\n  } catch {\n    return null;\n  }\n}"],"names":["form","formData","handleDOMLoad","handleFormInput","handleFormSubmit","name","value","saveToLS","lsData","getFromLS","key"],"mappings":"AAAA,MAAMA,EAAO,SAAS,cAAc,gBAAgB,EAEpD,IAAIC,EAAW,CACb,QAAS,GACT,MAAO,EACT,EAEAC,IAEAF,EAAK,iBAAiB,QAASG,CAAe,EAC9CH,EAAK,iBAAiB,SAAUI,CAAgB,EAEhD,SAASD,EAAgB,EAAG,CAC1B,KAAM,CAAE,KAAAE,EAAM,MAAAC,GAAU,EAAE,OAErB,CAAC,QAAS,SAAS,EAAE,SAASD,CAAI,IAEvCJ,EAASI,CAAI,EAAIC,EAAM,KAAI,EAC3BC,EAAS,sBAAuBN,CAAQ,EAC1C,CAEA,SAASG,EAAiB,EAAG,CAG3B,GAFA,EAAE,eAAc,EAEZH,EAAS,QAAU,IAAMA,EAAS,UAAY,GAAI,CACpD,MAAM,wBAAwB,EAC9B,MACD,CAED,QAAQ,IAAI,CAAE,GAAGA,CAAU,CAAA,EAE3B,aAAa,WAAW,qBAAqB,EAC7CD,EAAK,MAAK,EACVC,EAAW,CACT,QAAS,GACT,MAAO,EACX,CACA,CAEA,SAASC,GAAgB,CACvB,MAAMM,EAASC,EAAU,qBAAqB,EAC1CD,GAAU,OAAOA,GAAW,WAC9BR,EAAK,SAAS,MAAM,MAAQQ,EAAO,OAAS,GAC5CR,EAAK,SAAS,QAAQ,MAAQQ,EAAO,SAAW,GAChDP,EAAW,CAAE,GAAGO,GAEpB,CAEA,SAASD,EAASG,EAAKJ,EAAO,CAC5B,aAAa,QAAQI,EAAK,KAAK,UAAUJ,CAAK,CAAC,CACjD,CAEA,SAASG,EAAUC,EAAK,CACtB,GAAI,CACF,OAAO,KAAK,MAAM,aAAa,QAAQA,CAAG,CAAC,CAC/C,MAAU,CACN,OAAO,IACR,CACH"}